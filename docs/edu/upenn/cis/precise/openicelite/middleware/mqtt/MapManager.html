<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Wed Jan 17 11:41:13 EST 2018 -->
<title>MapManager (OpenICE-lite Core 1.0.0 API)</title>
<meta name="date" content="2018-01-17">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MapManager (OpenICE-lite Core 1.0.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":9,"i7":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../edu/upenn/cis/precise/openicelite/middleware/mqtt/LoggerH2.html" title="class in edu.upenn.cis.precise.openicelite.middleware.mqtt"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?edu/upenn/cis/precise/openicelite/middleware/mqtt/MapManager.html" target="_top">Frames</a></li>
<li><a href="MapManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.upenn.cis.precise.openicelite.middleware.mqtt</div>
<h2 title="Class MapManager" class="title">Class MapManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>edu.upenn.cis.precise.openicelite.middleware.mqtt.MapManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../edu/upenn/cis/precise/openicelite/middleware/core/IGracefulShutdown.html" title="interface in edu.upenn.cis.precise.openicelite.middleware.core">IGracefulShutdown</a>, org.eclipse.paho.client.mqttv3.MqttCallback</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">MapManager</span>
extends java.lang.Object
implements org.eclipse.paho.client.mqttv3.MqttCallback, <a href="../../../../../../../edu/upenn/cis/precise/openicelite/middleware/core/IGracefulShutdown.html" title="interface in edu.upenn.cis.precise.openicelite.middleware.core">IGracefulShutdown</a></pre>
<div class="block">Map Manager implementation to keep track of online OpenICE-lite dongles and available
 data topics
 <p>
 This class implements MqttCallback to handle MQTT related events and ensure fault-tolerance
 in case of disconnection happens. Map Manager requires a properties file to be loaded for
 configuration.
 <p>
 Available options for initialization:
 - "broker":              full address to the main broker
                              (e.g., ssl://hostname:port)
 - "brokers":             fail-over addresses, separated with comma
 - "connection_timeout":  timeout for connecting to broker
 - "retry_interval":      retry interval if lost connection
 - "alive_interval":      alive interval for MQTT connection
 - "qos":                 MQTT QoS settings (0,1,2)
 - "project_name":        project name will be used as a base topic separation
                              (default to DEFAULT)
 - "report_interval":     interval for which the dongle send report message to MapManager
 - "username":            username to login broker
 - "password":            password to login broker
 - "ca_cert_file":        absolute path to CA certification for TLS connection
 - "client_cert_file":    absolute path to client certification for TLS connection
                              (if broker requires client cert)
 - "client_key_file":     absolute path to client private key for TLS connection
 - "key_password":        password to unlock client private key if needed</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Hung Nguyen (hungng@seas.upenn.edu)</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../edu/upenn/cis/precise/openicelite/middleware/mqtt/MapManager.html#MapManager--">MapManager</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../edu/upenn/cis/precise/openicelite/middleware/mqtt/MapManager.html#close--">close</a></span>()</code>
<div class="block">Close and release all associated resource</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../edu/upenn/cis/precise/openicelite/middleware/mqtt/MapManager.html#connect--">connect</a></span>()</code>
<div class="block">Connect to broker using configured options</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../edu/upenn/cis/precise/openicelite/middleware/mqtt/MapManager.html#connectionLost-java.lang.Throwable-">connectionLost</a></span>(java.lang.Throwable&nbsp;cause)</code>
<div class="block">This method is called when the connection to the server is lost</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../edu/upenn/cis/precise/openicelite/middleware/mqtt/MapManager.html#deliveryComplete-org.eclipse.paho.client.mqttv3.IMqttDeliveryToken-">deliveryComplete</a></span>(org.eclipse.paho.client.mqttv3.IMqttDeliveryToken&nbsp;token)</code>
<div class="block">Called when delivery for a message has been completed, and all acknowledgments
 have been received.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../edu/upenn/cis/precise/openicelite/middleware/mqtt/MapManager.html#disconnect--">disconnect</a></span>()</code>
<div class="block">Disconnect from broker</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../edu/upenn/cis/precise/openicelite/middleware/mqtt/MapManager.html#init--">init</a></span>()</code>
<div class="block">Initialize Map Manager with default configuration or properties file</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../edu/upenn/cis/precise/openicelite/middleware/mqtt/MapManager.html#main-java.lang.String:A-">main</a></span>(java.lang.String[]&nbsp;args)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../edu/upenn/cis/precise/openicelite/middleware/mqtt/MapManager.html#messageArrived-java.lang.String-org.eclipse.paho.client.mqttv3.MqttMessage-">messageArrived</a></span>(java.lang.String&nbsp;topic,
              org.eclipse.paho.client.mqttv3.MqttMessage&nbsp;message)</code>
<div class="block">This method is called when a message arrives from the server</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MapManager--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MapManager</h4>
<pre>public&nbsp;MapManager()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
</li>
</ul>
<a name="init--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init()</pre>
<div class="block">Initialize Map Manager with default configuration or properties file
 <p>
 SSL must be enabled via properties file.</div>
</li>
</ul>
<a name="connect--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connect</h4>
<pre>public&nbsp;void&nbsp;connect()</pre>
<div class="block">Connect to broker using configured options
 <p>
 Map Manager never exits and keeps retrying until connected. Retry interval can be configured
 via properties file.</div>
</li>
</ul>
<a name="disconnect--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disconnect</h4>
<pre>public&nbsp;void&nbsp;disconnect()</pre>
<div class="block">Disconnect from broker</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../edu/upenn/cis/precise/openicelite/middleware/core/IGracefulShutdown.html#disconnect--">disconnect</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../edu/upenn/cis/precise/openicelite/middleware/core/IGracefulShutdown.html" title="interface in edu.upenn.cis.precise.openicelite.middleware.core">IGracefulShutdown</a></code></dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">Close and release all associated resource</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../edu/upenn/cis/precise/openicelite/middleware/core/IGracefulShutdown.html#close--">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../edu/upenn/cis/precise/openicelite/middleware/core/IGracefulShutdown.html" title="interface in edu.upenn.cis.precise.openicelite.middleware.core">IGracefulShutdown</a></code></dd>
</dl>
</li>
</ul>
<a name="connectionLost-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connectionLost</h4>
<pre>public&nbsp;void&nbsp;connectionLost(java.lang.Throwable&nbsp;cause)</pre>
<div class="block">This method is called when the connection to the server is lost</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>connectionLost</code>&nbsp;in interface&nbsp;<code>org.eclipse.paho.client.mqttv3.MqttCallback</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cause</code> - the reason behind the loss of connection</dd>
</dl>
</li>
</ul>
<a name="messageArrived-java.lang.String-org.eclipse.paho.client.mqttv3.MqttMessage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>messageArrived</h4>
<pre>public&nbsp;void&nbsp;messageArrived(java.lang.String&nbsp;topic,
                           org.eclipse.paho.client.mqttv3.MqttMessage&nbsp;message)
                    throws java.lang.Exception</pre>
<div class="block">This method is called when a message arrives from the server
 <p>
 This method is invoked synchronously by the MQTT client. An acknowledgment
 is not sent back to the server until this method returns cleanly.
 <p>
 If an implementation of this method throws an Exception, then the client
 will be shut down. When the client is next re-connected, any QoS 1 or 2
 messages will be redelivered by the server.
 <p>
 Any additional messages which arrive while an implementation of this method
 is running, will build up in memory, and will then back up on the network.
 <p>
 If an application needs to persist data, then it should ensure the data is
 persisted prior to returning from this method, as after returning from this
 method, the message is considered to have been delivered, and will not be
 reproducible.
 <p>
 It is possible to send a new message within an implementation of this callback
 (for example, a response to this message), but the implementation must not
 disconnect the client, as it will be impossible to send an acknowledgment
 for the message being processed, and a deadlock will occur.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>messageArrived</code>&nbsp;in interface&nbsp;<code>org.eclipse.paho.client.mqttv3.MqttCallback</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>topic</code> - name of the topic on the message was published to</dd>
<dd><code>message</code> - the actual message</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if a terminal error has occurred, and the client should
                   be shut down</dd>
</dl>
</li>
</ul>
<a name="deliveryComplete-org.eclipse.paho.client.mqttv3.IMqttDeliveryToken-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>deliveryComplete</h4>
<pre>public&nbsp;void&nbsp;deliveryComplete(org.eclipse.paho.client.mqttv3.IMqttDeliveryToken&nbsp;token)</pre>
<div class="block">Called when delivery for a message has been completed, and all acknowledgments
 have been received. For QoS 0 messages it is called once the message has been
 handed to the network for delivery. For QoS 1 it is called when PUBACK is
 received and for QoS 2 when PUBCOMP is received. The token will be the same
 token as that returned when the message was published.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>deliveryComplete</code>&nbsp;in interface&nbsp;<code>org.eclipse.paho.client.mqttv3.MqttCallback</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>token</code> - the delivery token associated with the message</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../edu/upenn/cis/precise/openicelite/middleware/mqtt/LoggerH2.html" title="class in edu.upenn.cis.precise.openicelite.middleware.mqtt"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?edu/upenn/cis/precise/openicelite/middleware/mqtt/MapManager.html" target="_top">Frames</a></li>
<li><a href="MapManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
